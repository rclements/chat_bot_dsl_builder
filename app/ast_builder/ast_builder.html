<div ng-controller="AstBuilderCtrl">
  <div class="ast">
    <div ng-if="astIsEmpty()">
      <button class="ui button" ng-click="createBlock('if')">+</button>
    </div>
    <div ng-if="astIsBarebonesIf()">
      <div class="ui segment">
        <p>
          <strong>if</strong> <button class="ui button"
        ng-click="addIfCondition()">add condition</button> <strong>then</strong>
        </p>
        <div class="ui segment">
          <button class="ui button">Add action</button>
        </div>
        <p>
          <strong>end</strong>
        </p>
      </div>
    </div>
    <div ng-if="astIsIfWithCondition()">
      <div class="ui segment">
        <p>
          <strong>if</strong> <button class="ui button">input contains
            "{{getIfCondition()}}"</button> <strong>then</strong>
        </p>
        <div class="ui segment">
          <button class="ui button" ng-click="addIfAction()">Add action</button>
        </div>
        <p>
          <strong>end</strong>
        </p>
      </div>
    </div>
    <div ng-if="astIsIfWithConditionAndAction()">
      <div class="ui segment">
        <p>
          <strong>if</strong> <button class="ui button">input contains
            ":tableflip:"</button> <strong>then</strong>
        </p>
        <div class="ui segment">
          <p>
            respond with "(╯°□°）╯︵ ┻━┻"
          </p>
        </div>
        <p>
          <strong>end</strong>
        </p>
      </div>
    </div>
    {{ ast | json }}
  </div>
</div>
